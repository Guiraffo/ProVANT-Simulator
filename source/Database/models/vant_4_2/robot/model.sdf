<?xml version="1.0" encoding="UTF-8"?>
<!--
This file is part of the ProVANT simulator project.
Licensed under the terms of the MIT open source license. More details at
https://github.com/Guiraffo/ProVANT-Simulator/blob/master/LICENSE.md
-->
<sdf version='1.6'>
  <model name='vant_4_2'>
    <link name='mainbody'>
      <self_collide>false</self_collide>
      <pose frame=''>0 0 0 0 0 0</pose>
      <inertial>
        <pose frame=''>-0.60 0 0 0 0 0</pose>
        <mass>7.0</mass>
        <inertia>
          <ixx>2.727</ixx>
          <ixy>0</ixy>
          <ixz>-0.002</ixz>
          <iyy>7.447</iyy>
          <iyz>0</iyz>
          <izz>9.95</izz>
        </inertia>
      </inertial>
      <collision name='mainbody_collision'>
        <pose frame=''>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://vant_4_2/meshes/mainbody.STL</uri>
          </mesh>
        </geometry>
      </collision>
      <visual name='mainbody_visual'>
        <pose frame=''>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://vant_4_2/meshes/mainbody.STL</uri>
          </mesh>
        </geometry>
      </visual>
    </link>
    <link name='RotorL'>
      <pose frame=''>-0.62 1.025 0.172 0.0873 0 0</pose>
      <inertial>
        <pose frame=''>0 0 0.07 0 0 0</pose>
        <mass>0.3</mass>
        <inertia>
          <ixx>0.005</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.005</iyy>
          <iyz>0</iyz>
          <izz>0.002</izz>
        </inertia>
      </inertial>
      <collision name='RotorL_collision'>
        <pose frame=''>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://vant_4_2/meshes/RotorL.STL</uri>
          </mesh>
        </geometry>
      </collision>
      <visual name='RotorL_visual'>
        <pose frame=''>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://vant_4_2/meshes/RotorL.STL</uri>
          </mesh>
        </geometry>
      </visual>
    </link>
    <joint name='rotL' type='revolute'>
      <child>RotorL</child>
      <parent>mainbody</parent>
      <axis>
        <xyz>0 1 0</xyz>
        <limit>
          <lower>-2</lower>
          <upper>2</upper>
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
        <use_parent_model_frame>1</use_parent_model_frame>
      </axis>
    </joint>
    <link name='HelL'>
      <pose frame=''>-0.62 1.025 0.27 0 0 0</pose>
      <inertial>
        <pose frame=''>0 0 0 0 0 0</pose>
        <mass>0.000001</mass>
        <inertia>
          <ixx>1.0e-07</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>1.0e-07</iyy>
          <iyz>0</iyz>
          <izz>1.0e-07</izz>
        </inertia>
      </inertial>
      <collision name='HelL_collision'>
        <pose frame=''>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://vant_4_2/meshes/HelL.STL</uri>
          </mesh>
        </geometry>
      </collision>
      <visual name='HelL_visual'>
        <pose frame=''>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://vant_4_2/meshes/HelL.STL</uri>
          </mesh>
        </geometry>
      </visual>
    </link>
    <joint name='Hl' type='revolute'>
      <child>HelL</child>
      <parent>RotorL</parent>
      <axis>
        <xyz>0 0 1</xyz>
        <limit>
          <effort>200</effort>
          <velocity>5000</velocity>
        </limit>
        <use_parent_model_frame>1</use_parent_model_frame>
      </axis>
    </joint>
    <link name='RotorR'>
      <pose frame=''>-0.62 -1.025 0.172 -0.0873 0 0</pose>
      <inertial>
        <pose frame=''>0 0 0.07 0 0 0</pose>
        <mass>0.3</mass>
        <inertia>
          <ixx>0.005</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.005</iyy>
          <iyz>0</iyz>
          <izz>0.002</izz>
        </inertia>
      </inertial>
      <collision name='RotorR_collision'>
        <pose frame=''>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://vant_4_2/meshes/RotorR.STL</uri>
          </mesh>
        </geometry>
      </collision>
      <visual name='RotorR_visual'>
        <pose frame=''>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://vant_4_2/meshes/RotorR.STL</uri>
          </mesh>
        </geometry>
      </visual>
    </link>
    <joint name='rotR' type='revolute'>
      <child>RotorR</child>
      <parent>mainbody</parent>
      <axis>
        <xyz>0 1 0</xyz>
        <limit>
          <lower>-2</lower>
          <upper>2</upper>
        </limit>
        <dynamics>
          <spring_reference>0</spring_reference>
          <spring_stiffness>0</spring_stiffness>
        </dynamics>
        <use_parent_model_frame>1</use_parent_model_frame>
      </axis>
    </joint>
    <link name='HelR'>
      <pose frame=''>-0.62 -1.025 0.27616 0 0 0</pose>
      <inertial>
        <pose frame=''>0 0 0 0 0 0</pose>
        <mass>0.000001</mass>
        <inertia>
          <ixx>1.0e-07</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>1.0e-07</iyy>
          <iyz>0</iyz>
          <izz>1.0e-07</izz>
        </inertia>
      </inertial>
      <collision name='HelR_collision'>
        <pose frame=''>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://vant_4_2/meshes/HelR.STL</uri>
          </mesh>
        </geometry>
      </collision>
      <visual name='HelR_visual'>
        <pose frame=''>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <scale>1 1 1</scale>
            <uri>model://vant_4_2/meshes/HelR.STL</uri>
          </mesh>
        </geometry>
      </visual>
    </link>
    <joint name='Hr' type='revolute'>
      <child>HelR</child>
      <parent>RotorR</parent>
      <axis>
        <limit>
          <effort>200</effort>
          <velocity>5000</velocity>
        </limit>
        <xyz>0 0 1</xyz>
        <use_parent_model_frame>1</use_parent_model_frame>
      </axis>
    </joint>
    <plugin name="VetorEstados" filename="libgazebo_ros_AllData_plugin.so">
      <NameOfTopic>Estados</NameOfTopic>
      <NameOfJointR>rotR</NameOfJointR>
      <NameOfJointL>rotL</NameOfJointL>
      <bodyName>mainbody</bodyName>
    </plugin>
    <plugin name="RotorRplugin" filename="libgazebo_ros_servo_motor_plugin.so">
      <NameOfJoint>rotR</NameOfJoint>
      <TopicPublisher>RotorRpub</TopicPublisher>
        <TopicDrag>dragR</TopicDrag>
      <TopicSubscriber>RefRotorR</TopicSubscriber>
      <Modo>Torque</Modo>
      <tag>RotR</tag>
      <enable_saturation>true</enable_saturation>
      <Force_Saturation>2</Force_Saturation>
      <Angle_Saturation>2</Angle_Saturation>
    </plugin>
    <plugin name="RotorLplugin" filename="libgazebo_ros_servo_motor_plugin.so">
      <NameOfJoint>rotL</NameOfJoint>
      <TopicPublisher>RotorLpub</TopicPublisher>
        <TopicDrag>dragL</TopicDrag>
      <TopicSubscriber>RefRotorL</TopicSubscriber>
      <Modo>Torque</Modo>
      <tag>RotL</tag>
      <enable_saturation>true</enable_saturation>
      <Force_Saturation>2</Force_Saturation>
      <Angle_Saturation>2</Angle_Saturation>
    </plugin>
    <plugin name="empuxo" filename="libgazebo_ros_Aerodinamica4dot2_plugin.so">
      <MainBody>mainbody</MainBody>
      <NameOfNode>Estados</NameOfNode>
      <NameOfJointR>rotR</NameOfJointR>
      <NameOfJointL>rotL</NameOfJointL>
      <topic_Fr> ThrustR </topic_Fr>
      <LinkFr> RotorR </LinkFr>
      <topic_Fl> ThrustL </topic_Fl>
      <LinkFl> RotorL </LinkFl>
      <TopicAileronR> AileronR </TopicAileronR>
      <TopicAileronL> AileronL </TopicAileronL>
      <TopicElevator> Elevator </TopicElevator>
      <TopicRudder> Rudder </TopicRudder>
    </plugin>
    <plugin name="VisualPropellers" filename="libgazebo_ros_VisualPropellers.so">
      <Propeller1>Hl</Propeller1>
      <Propeller2>Hr</Propeller2>
      <Propellers_Velocity>50</Propellers_Velocity>
    </plugin>
  </model>
</sdf>