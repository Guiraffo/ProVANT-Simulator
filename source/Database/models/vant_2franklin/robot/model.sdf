<?xml version="1.0" encoding="UTF-8"?>
<!--
This file is part of the ProVANT simulator project.
Licensed under the terms of the MIT open source license. More details at
https: //github.com/Guiraffo/ProVANT-Simulator/blob/master/LICENSE.md
-->
<sdf version="1.4">
  <model name="modelo">
    <link name="corpo">
      <pose>0 0 0 0 0 0</pose>
      <inertial>
        <mass>1.92509767079622</mass>
        <pose>-0.00254692194194197639 0.000137734082827298 -0.0181900814143879 0 0 0</pose>
        <inertia>
          <ixx>0.0697552757250878</ixx>
          <ixy>4.77417385357503E-05</ixy>
          <ixz>0.000362780890165671</ixz>
          <iyy>0.00792827006001647</iyy>
          <iyz>-1.07360516340487E-05</iyz>
          <izz>0.0664000187819483</izz>
        </inertia>
      </inertial>
      <collision name="corpocollision">
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <uri>model://vant_2franklin/meshes/corpo.STL</uri>
          </mesh>
        </geometry>
      </collision>
      <visual name="corpovisual">
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <uri>model://vant_2franklin/meshes/corpo.STL</uri>
          </mesh>
        </geometry>
        <material>
          <ambient>0 0 0 0</ambient>
          <diffuse>1 1 1 1</diffuse>
          <specular>0.1 0.1 0.1 1</specular>
          <emissive>0 0 0 0</emissive>
        </material>
      </visual>
    </link>
    <link name="intermediario">
      <pose>0 0 0 0 0 0</pose>
      <inertial>
        <mass>0.001</mass>
        <pose>0 0 0 0 0 0</pose>
        <inertia>
          <ixx>0.0001</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.0001</iyy>
          <iyz>0</iyz>
          <izz>0.0001</izz>
        </inertia>
      </inertial>
    </link>
    <link name="intermediario2">
      <pose>0 0 0 0 0 0</pose>
      <inertial>
        <mass>0.001</mass>
        <pose>0 0 0 0 0 0</pose>
        <inertia>
          <ixx>0.0001</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.0001</iyy>
          <iyz>0</iyz>
          <izz>0.0001</izz>
        </inertia>
      </inertial>
    </link>
    <link name="carga">
      <pose>0 0 -0.5 0 0 0</pose>
      <inertial>
        <mass>0.50</mass>
        <pose>0 0 0 0 0 0</pose>
        <inertia>
          <ixx>0.00000833333</ixx>
          <ixy>0</ixy>
          <ixz>0</ixz>
          <iyy>0.00000833333</iyy>
          <iyz>0</iyz>
          <izz>0.00000833333</izz>
        </inertia>
      </inertial>
      <collision name="cargacollision">
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <uri>model://vant_2franklin/meshes/carga.stl</uri>
          </mesh>
        </geometry>
      </collision>
      <visual name="carga">
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <uri>model://vant_2franklin/meshes/carga.stl</uri>
          </mesh>
        </geometry>
        <material>
          <ambient>0 0 0 0</ambient>
          <diffuse>1 1 1 1</diffuse>
          <specular>0.1 0.1 0.1 1</specular>
          <emissive>0 0 0 0</emissive>
        </material>
      </visual>
    </link>
    <link name="servodir">
      <pose>0.02E-3 -277.61E-3 56.21E-3 -0.0872665 0 0</pose>
      <inertial>
        <mass>0.0809439719362664</mass>
        <pose>-3.60859273452335E-10 -0.000226380714807978 0.0594780519701684 0 0 0</pose>
        <inertia>
          <ixx>3.88267747087835E-06</ixx>
          <ixy>6.03219085082653E-06</ixy>
          <ixz>-2.78471406661236E-12</ixz>
          <iyy>0.000104858690365283</iyy>
          <iyz>7.0486590219062E-07</iyz>
          <izz>8.31755564684115E-05</izz>
        </inertia>
      </inertial>
      <collision name="servodircollision">
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <uri>model://vant_2franklin/meshes/servodir.STL</uri>
          </mesh>
        </geometry>
      </collision>
      <visual name="servodirvisual">
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <uri>model://vant_2franklin/meshes/servodir.STL</uri>
          </mesh>
        </geometry>
        <material>
          <ambient>0 0 0 0</ambient>
          <diffuse>1 1 1 1</diffuse>
          <specular>0.1 0.1 0.1 1</specular>
          <emissive>0 0 0 0</emissive>
        </material>
      </visual>
    </link>
    <link name="servoesq">
      <pose>0.02E-3 277.61E-3 56.21E-3 0.0872665 0 0</pose>
      <inertial>
        <mass>0.080943968597</mass>
        <pose>-1.42036961055594E-09 0.000226379941183831 0.059478050752241 0 0 0</pose>
        <inertia>
          <ixx>3.83153585987037E-05</ixx>
          <ixy>1.31505388597772E-06</ixy>
          <ixz>5.68869331986483E-13</ixz>
          <iyy>0.000105370094312002</iyy>
          <iyz>-7.048667055410379E-07</iyz>
          <izz>8.31755504678384E-05</izz>
        </inertia>
      </inertial>
      <collision name="servoesqcollision">
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <uri>model://vant_2franklin/meshes/servoesq.STL</uri>
          </mesh>
        </geometry>
      </collision>
      <visual name="servoesqvisual">
        <pose>0 0 0 0 0 0</pose>
        <geometry>
          <mesh>
            <uri>model://vant_2franklin/meshes/servoesq.STL</uri>
          </mesh>
        </geometry>
        <material>
          <ambient>0 0 0 0</ambient>
          <diffuse>1 1 1 1</diffuse>
          <specular>0.1 0.1 0.1 1</specular>
          <emissive>0 0 0 0</emissive>
        </material>
      </visual>
    </link>
    <joint name="aR" type="revolute">
      <pose>0 0 0 0 0 0</pose>
      <parent>corpo</parent>
      <child>servodir</child>
      <axis>
        <xyz>0 0.9962 -0.0872</xyz>
        <limit>
          <lower>-1.5</lower>
          <upper>1.5</upper>
          <!--<effort>2</effort>
                    <velocity>0.5</velocity>-->
        </limit>
        <dynamics>
          <damping>0.0030485</damping>
          <friction>0</friction>
        </dynamics>
      </axis>
    </joint>
    <joint name="fixo" type="revolute">
      <pose>0 0 0 0 0 0</pose>
      <parent>corpo</parent>
      <child>intermediario</child>
      <axis>
        <xyz>0 1 0</xyz>
        <limit>
          <lower>-1.05</lower>
          <upper>1.05</upper>
          <effort>10</effort>
          <velocity>50</velocity>
        </limit>
        <dynamics>
          <damping>0.05</damping>
          <friction>0</friction>
        </dynamics>
      </axis>
    </joint>
    <joint name="fixo2" type="revolute">
      <pose>0 0 0 0 0 0</pose>
      <parent>intermediario</parent>
      <child>intermediario2</child>
      <axis>
        <xyz>1 0 0</xyz>
        <limit>
          <lower>-1.05</lower>
          <upper>1.05</upper>
          <effort>10</effort>
          <velocity>50</velocity>
        </limit>
        <dynamics>
          <damping>0.05</damping>
          <friction>0</friction>
        </dynamics>
      </axis>
    </joint>
    <joint name="fixo3" type="fixed">
      <pose>0 0 0 0 0 0</pose>
      <parent>intermediario2</parent>
      <child>carga</child>
      <axis>
        <xyz>0 0 0</xyz>
        <limit>
          <lower>-1.05</lower>
          <upper>1.05</upper>
          <effort>10</effort>
          <velocity>50</velocity>
        </limit>
        <dynamics>
          <damping>0</damping>
          <friction>0</friction>
        </dynamics>
      </axis>
    </joint>
    <joint name="aL" type="revolute">
      <pose>0 0 0 0 0 0</pose>
      <parent>corpo</parent>
      <child>servoesq</child>
      <axis>
        <xyz>0 0.9962 0.0872</xyz>
        <limit>
          <lower>-1.5</lower>
          <upper>1.5</upper>
          <!--<effort>2</effort>
                    <velocity>0.5</velocity>-->
        </limit>
        <dynamics>
          <damping>0.0030485</damping>
          <friction>0</friction>
        </dynamics>
      </axis>
    </joint>
    <plugin name="empuxo" filename="libgazebo_ros_brushless_plugin.so">
      <LinkEsq>servoesq</LinkEsq>
      <LinkDir>servodir</LinkDir>
      <topic_FL>Thrustesq</topic_FL>
      <topic_FR>Thrustdir</topic_FR>
      <DragCte>0.00001</DragCte>
    </plugin>
    <plugin name="servoR" filename="libgazebo_ros_servo_motor_plugin.so">
      <Modo>Torque</Modo>
      <NameOfJoint>aR</NameOfJoint>
      <TopicSubscriber>RefaR</TopicSubscriber>
        <TopicDrag>dragR</TopicDrag>
      <TopicPublisher>aR</TopicPublisher>
      <enable_saturation>false</enable_saturation>
      <Force_Saturation>10</Force_Saturation>
      <Angle_Saturation>3.14</Angle_Saturation>
    </plugin>
    <plugin name="servoL" filename="libgazebo_ros_servo_motor_plugin.so">
      <Modo>Torque</Modo>
      <NameOfJoint>aL</NameOfJoint>
      <TopicSubscriber>RefaL</TopicSubscriber>
        <TopicDrag>dragL</TopicDrag>
      <TopicPublisher>aL</TopicPublisher>
      <enable_saturation>false</enable_saturation>
      <Force_Saturation>10</Force_Saturation>
      <Angle_Saturation>3.14</Angle_Saturation>
    </plugin>
    <plugin name="VetorEstados" filename="libgazebo_ros_AllData_plugin2.so">
      <bodyName>carga</bodyName>
      <NameOfTopic>loadperspective_states</NameOfTopic>
      <NameOfJointL>aL</NameOfJointL>
      <NameOfJointR>aR</NameOfJointR>
      <NameOfJointLoad_Y>fixo</NameOfJointLoad_Y>
      <NameOfJointLoad_X>fixo2</NameOfJointLoad_X>
    </plugin>

    <plugin name="mainbody" filename="libgazebo_ros_universallink.so">
      <NameOfTopic>mainbody</NameOfTopic>
      <NameOfLink>corpo</NameOfLink>
    </plugin>
    <plugin name="sR" filename="libgazebo_ros_universallink.so">
      <NameOfTopic>servodir</NameOfTopic>
      <NameOfLink>servodir</NameOfLink>
    </plugin>
    <plugin name="sL" filename="libgazebo_ros_universallink.so">
      <NameOfTopic>servoesq</NameOfTopic>
      <NameOfLink>servoesq</NameOfLink>
    </plugin>
    <plugin name="carga" filename="libgazebo_ros_universallink.so">
      <NameOfTopic>carga</NameOfTopic>
      <NameOfLink>carga</NameOfLink>
    </plugin>
    <plugin name="aR" filename="libgazebo_ros_universaljoint.so">
      <NameOfTopic>angR</NameOfTopic>
      <NameOfJoint>aR</NameOfJoint>
      <Axis>axis</Axis>
    </plugin>
    <plugin name="aL" filename="libgazebo_ros_universaljoint.so">
      <NameOfTopic>angL</NameOfTopic>
      <NameOfJoint>aL</NameOfJoint>
      <Axis>axis</Axis>
    </plugin>
    <plugin name="fixo" filename="libgazebo_ros_universaljoint.so">
      <NameOfTopic>haste_x</NameOfTopic>
      <NameOfJoint>fixo</NameOfJoint>
      <Axis>axis</Axis>
    </plugin>
    <plugin name="fixo2" filename="libgazebo_ros_universaljoint.so">
      <NameOfTopic>haste_y</NameOfTopic>
      <NameOfJoint>fixo2</NameOfJoint>
      <Axis>axis</Axis>
    </plugin>
    <plugin name="disturbances" filename="libgazebo_ros_pertubation.so">
      <topicX>dtrbx</topicX>
      <topicY>dtrby</topicY>
      <topicZ>dtrbz</topicZ>
      <Link>carga</Link>
    </plugin>
  </model>
</sdf>